<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OpenBoBS • OpenClaw Runtime Dashboard</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <aside class="sidebar">
        <div>
          <h1>OpenBoBS</h1>
          <p class="subtitle">OpenClaw integrated command dashboard.</p>
        </div>

        <section class="hero-card">
          <img src="assets/agent-hub.svg" alt="Agent network illustration" />
          <div>
            <h3>Mission Control</h3>
            <p>Run advanced agents with live progress, terminal output, and offline Ollama responses.</p>
          </div>
        </section>

        <section>
          <h2>Runtime</h2>
          <label class="switch-row">
            <input id="ollamaMode" type="checkbox" checked />
            <span>Use offline Ollama</span>
          </label>
          <label>
            Ollama model
            <input id="ollamaModel" value="llama3.1:8b" />
          </label>
          <button id="healthBtn">Check health</button>
          <p class="hint">Server endpoint: <code>/api/chat</code></p>
        </section>

        <section>
          <h2>Workspace</h2>
          <label>
            Project name
            <input id="projectName" value="OpenBoBS" />
          </label>
          <label>
            Delivery profile
            <select id="profile">
              <option value="balanced">Balanced</option>
              <option value="creative">Creative</option>
              <option value="strict">Strict</option>
            </select>
          </label>
        </section>

        <section>
          <h2>Advanced Agents</h2>
          <div id="agentList" class="agent-list"></div>
          <div class="button-grid compact">
            <button id="allAgentsBtn">Enable all</button>
            <button id="clearAgentsBtn">Clear</button>
          </div>
        </section>

        <section>
          <h2>Actions</h2>
          <div class="button-grid">
            <button id="runWorkflowBtn">Run workflow</button>
            <button id="exportBtn">Export log</button>
            <button id="clearBtn" class="danger">Clear chat</button>
            <button id="themeBtn">Toggle theme</button>
          </div>
        </section>
      </aside>

      <main class="chat-panel">
        <header>
          <div>
            <h2>OpenClaw Operations Center</h2>
            <p id="status">Ready • waiting for request</p>
          </div>
          <span class="badge" id="activeAgentsBadge">0 agents active</span>
        </header>

        <section class="predone-panel">
          <h3>Pre-done task packs</h3>
          <div class="task-buttons">
            <button data-template="mvp">MVP Sprint</button>
            <button data-template="incident">Incident Response</button>
            <button data-template="scaling">Scaling Review</button>
            <button data-template="security">Security Hardening</button>
          </div>
        </section>

        <section class="dashboard-grid">
          <article>
            <h3>Agent Progress (real-time)</h3>
            <div id="progressList" class="progress-list"></div>
          </article>
          <article>
            <h3>Execution Timeline</h3>
            <ol id="timelineList" class="timeline-list"></ol>
          </article>
          <article>
            <h3>Terminal Output</h3>
            <pre id="terminalOutput" class="terminal"></pre>
          </article>
        </section>

        <div id="messages" class="messages" aria-live="polite"></div>

        <form id="composer" class="composer">
          <textarea
            id="input"
            placeholder="Describe the app task. Commands: /plan /agents /risk /ship /summary /selfupdate"
            rows="4"
            required
          ></textarea>
          <div class="composer-actions">
            <small>Tip: use a pre-done pack, then click Run workflow.</small>
            <button type="submit">Send</button>
          </div>
        </form>
      </main>
    </div>

    <template id="messageTpl">
      <article class="message">
        <div class="meta"></div>
        <p class="content"></p>
      </article>
    </template>

    <script src="app.js"></script>
  </body>
</html>
