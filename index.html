<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OpenBoBS • OpenClaw Enterprise Console</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <aside class="sidebar">
        <div>
          <h1>OpenBoBS</h1>
          <p class="subtitle">OpenClaw-style enterprise orchestration.</p>
        </div>

        <section class="hero-card">
          <img src="assets/hero-grid.svg" alt="OpenBoBS platform overview" />
          <div>
            <h3>Mission Control</h3>
            <p>Deterministic multi-agent planning, web intelligence, and secure operations workflows.</p>
          </div>
        </section>

        <section>
          <h2>Runtime</h2>
          <label class="switch-row"><input id="ollamaMode" type="checkbox" checked /><span>Enable offline Ollama</span></label>
          <label>Ollama model <input id="ollamaModel" value="llama3.1:8b" /></label>
          <button id="healthBtn">Check runtime health</button>
        </section>

        <section>
          <h2>Autonomy</h2>
          <label class="switch-row"><input id="autonomyMode" type="checkbox" /><span>Autonomy mode</span></label>
          <label>Cycles <input id="autonomyCycles" type="number" min="1" max="5" value="2" /></label>
        </section>


        <section>
          <h2>Workspace</h2>
          <label>Project name <input id="projectName" value="OpenBoBS" /></label>
          <label>
            Delivery profile
            <select id="profile">
              <option value="balanced">Balanced</option>
              <option value="creative">Creative</option>
              <option value="strict">Strict</option>
            </select>
          </label>
        </section>

        <section>
          <h2>Bot Creator</h2>
          <label>Bot name <input id="botName" value="Release Sentinel" /></label>
          <label>Role <input id="botRole" value="Release risk triage + compliance checks" /></label>
          <label>Prompt focus <input id="botPrompt" value="Summarize blockers and recommend deterministic next steps" /></label>
          <button id="createBotBtn">Create bot agent</button>
        </section>

        <section>
          <h2>Web Search</h2>
          <label>Query <input id="webSearchQuery" placeholder="OpenClaw agent orchestration patterns" /></label>
          <button id="webSearchBtn">Run web search</button>
        </section>

        <section>
          <h2>Kali Linux Tools</h2>
          <div class="button-grid compact">
            <button id="scanKaliBtn">Scan tools</button>
            <button data-kali-tool="nmap" class="kali-run-btn">Run nmap check</button>
            <button data-kali-tool="nikto" class="kali-run-btn">Run nikto check</button>
            <button data-kali-tool="sqlmap" class="kali-run-btn">Run sqlmap check</button>
          </div>
          <p class="hint">Tool launch runs safe version/info checks in the active runtime.</p>
        </section>

        <section>
          <h2>Agents</h2>
          <div id="agentList" class="agent-list"></div>
          <div class="button-grid compact">
            <button id="allAgentsBtn">Enable all</button>
            <button id="clearAgentsBtn">Clear</button>
          </div>
        </section>

        <section>
          <h2>Actions</h2>
          <div class="button-grid">
            <button id="runWorkflowBtn">Run workflow</button>
            <button id="exportBtn">Export session</button>
            <button id="clearBtn" class="danger">Clear chat</button>
            <button id="themeBtn">Toggle theme</button>
          </div>
        </section>
      </aside>

      <main class="chat-panel">
        <header>
          <div>
            <h2>Operations Dashboard</h2>
            <p id="status">Ready • deterministic runtime online</p>
          </div>
          <span class="badge" id="activeAgentsBadge">0 agents active</span>
        </header>

        <section class="playbooks-panel">
          <h3>Pre-done task playbooks (1-click)</h3>
          <div id="taskGrid" class="task-grid"></div>
        </section>

        <section class="visual-strip" aria-label="Capability highlights">
          <article>
            <img src="assets/architecture.svg" alt="Architecture capability" />
            <h4>Architecture</h4>
            <p>Bounded contexts, contracts, and deterministic interfaces.</p>
          </article>
          <article>
            <img src="assets/testing.svg" alt="Quality capability" />
            <h4>Quality</h4>
            <p>Repeatable tests, risk matrix, and regression controls.</p>
          </article>
          <article>
            <img src="assets/release.svg" alt="Release capability" />
            <h4>Release</h4>
            <p>Staged rollout, monitoring gates, and rollback strategy.</p>
          </article>
        </section>

        <section class="dashboard-grid">
          <article>
            <h3>Agent Progress</h3>
            <div id="progressList" class="progress-list"></div>
          </article>
          <article>
            <h3>Execution Timeline</h3>
            <ol id="timelineList" class="timeline-list"></ol>
          </article>
          <article>
            <h3>Output Terminal</h3>
            <pre id="terminalOutput" class="terminal"></pre>
          </article>
        </section>

        <section class="results-grid">
          <article>
            <h3>Web Search Results</h3>
            <ul id="searchResults" class="results-list"></ul>
          </article>
          <article>
            <h3>Kali Tool Status</h3>
            <ul id="kaliResults" class="results-list"></ul>
          </article>
        </section>

        <div id="messages" class="messages" aria-live="polite"></div>

        <form id="composer" class="composer">
          <textarea id="input" rows="4" required placeholder="Enter objective. Commands: /plan /agents /risk /ship /summary /selfupdate /playbooks"></textarea>
          <div class="composer-actions">
            <small>Includes bot creation, web search, and Kali tools check workflows.</small>
            <button type="submit">Send</button>
          </div>
        </form>
      </main>
    </div>

    <template id="messageTpl">
      <article class="message"><div class="meta"></div><p class="content"></p></article>
    </template>

    <script src="app.js"></script>
  </body>
</html>
